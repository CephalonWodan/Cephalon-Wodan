/*
 * Styles spécifiques au Loadout Builder.
 *
 * Ce fichier définit toutes les règles CSS nécessaires à la mise en page
 * décrite par l’utilisateur : colonnes stats/slots/mods, en-tête compact
 * avec image, toggles et filtres, palette de couleurs cohérente avec
 * le thème existant. Les variables CSS : --panel, --muted, etc. sont
 * assumées définies par votre thème global (theme.css).
 */

:root{
  --gap: 16px;
  --panel: var(--panel-2, #0f172a);
  --panel-border: rgba(255,255,255,.08);
  --muted: var(--muted,#9fb1c5);
  --gold: #D4AF37;
  --bg: #0b1220;
}

*{box-sizing:border-box}
body{margin:0; background:var(--bg); color:#e7f1ff; font:14px/1.45 system-ui,Segoe UI,Roboto,Inter,sans-serif;}
.container{max-width:1400px; margin:24px auto; padding:0 16px;}
.card{background:var(--panel); border:1px solid var(--panel-border); border-radius:14px;}
.panel{padding:16px;}
.muted{color:var(--muted);} 
.small{font-size:12px}
.title{font-size:22px; font-weight:700;}
.subtitle{font-size:13px; color:var(--muted);} 
.inline{display:flex; align-items:center; gap:6px}
.btn{background:#1a243b; border:1px solid var(--panel-border); color:#e7f1ff; padding:8px 10px; border-radius:10px; cursor:pointer;}
.btn:hover{background:#1e2a46}
.grow{flex:1}

/* HEADER */
.header{display:flex; align-items:flex-start; justify-content:space-between; gap:12px; margin-bottom:16px;}
.wf-header-left{display:flex; gap:12px; align-items:flex-start;}
.wf-thumb{width:72px; height:72px; border-radius:10px; overflow:hidden; background:#0b1220; border:1px solid var(--panel-border); display:flex; align-items:center; justify-content:center;}
.wf-thumb img{width:100%; height:100%; object-fit:contain;}
.wf-meta{display:flex; flex-direction:column; gap:4px;}
.actions{display:flex; gap:8px; align-items:center;}

/* SWITCH */
.switch{display:inline-flex; align-items:center; gap:8px; user-select:none}
.switch .track{width:46px; height:24px; border-radius:999px; background:#1f2944; border:1px solid var(--panel-border); position:relative; display:inline-block;}
.switch .knob{position:absolute; top:2px; left:2px; width:20px; height:20px; background:#e7f1ff; border-radius:50%; transition:transform .18s ease;}
.switch input{display:none}
.switch input:checked + .track .knob{transform:translateX(22px)}
.switch .lab{font-size:12px; color:var(--muted)}

/* Slider de rang */
#rankSlider{
  width:140px;
}

/* LAYOUT */
.row{display:grid; grid-template-columns: 290px 1fr 360px; gap: var(--gap);}
@media (max-width:1200px){ .row{grid-template-columns: 260px 1fr 320px;} }
@media (max-width:1024px){ .row{grid-template-columns: 1fr; } .mod-list{max-height:none} }

/* STATS (col gauche) */
.stats-list{display:flex; flex-direction:column; gap:8px}
.stat{display:flex; align-items:center; justify-content:space-between; padding:8px 10px; background:#0e1528; border:1px solid var(--panel-border); border-radius:10px;}
.stat .k{font-size:11px; color:var(--muted); letter-spacing:.02em}
.stat .v{font-weight:700}
.toggles{display:flex; gap:12px; align-items:center; margin-top:10px}

/* SLOTS (col centre) */
.slot-grid{display:grid; grid-template-columns: repeat(3, 1fr); gap:12px; padding:12px;}
.slot{height:74px; background:#0f162a; border:1px dashed rgba(255,255,255,.14); border-radius:12px; display:flex; align-items:center; justify-content:center; color:#8aa1bd}
.slot-row{display:grid; grid-template-columns: repeat(4, 1fr); gap:12px; padding:0 12px 12px}
.slot-aura-exilus{display:grid; grid-template-columns: 1fr 1fr; gap:12px; padding:0 12px 12px}
.slot-large{height:86px;}
.slot-small{height:58px;}

/* Personnalisation des rangées spécifiques */
.companion-row{ grid-template-columns: repeat(2, 1fr); }
.archon-row{ grid-template-columns: repeat(5, 1fr); }
.toolbar{display:flex; align-items:center; gap:8px; padding:8px; border-top:1px solid var(--panel-border); background:#0e1528; border-radius:0 0 14px 14px}
.search{width:100%; background:#0b1220; border:1px solid var(--panel-border); color:#e7f1ff; padding:10px 12px; border-radius:10px}

/* CATALOGUE (col droite) */
.catalog{display:flex; flex-direction:column; gap:10px;}
.filters{display:grid; grid-template-columns: repeat(5, minmax(0,1fr)); gap:8px;}
.filters .f{display:flex; flex-direction:column; gap:6px;}
select, .input{background:#0e1528; color:#e7f1ff; border:1px solid var(--panel-border); border-radius:10px; padding:8px}
.mod-list{display:grid; grid-template-columns: repeat(2, minmax(0,1fr)); gap:10px; max-height:640px; overflow:auto; padding:4px}
.mod-card{background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02)); border:1px solid var(--panel-border); border-radius:14px; padding:10px; display:flex; gap:10px}
.mod-art{width:66px; height:66px; border-radius:10px; background:#0b1220; border:1px solid var(--panel-border); overflow:hidden; flex:0 0 auto; display:flex; align-items:center; justify-content:center;}
.mod-art img{width:100%; height:100%; object-fit:cover}
.mod-meta{display:flex; flex-direction:column; gap:4px}
.mod-name{font-weight:700; line-height:1.2}
.chip{font-size:11px; color:#bcd; border:1px solid var(--panel-border); padding:2px 6px; border-radius:999px; display:inline-block; margin-right:6px}
.gold{color:var(--gold); border-color:rgba(212,175,55,.35)}