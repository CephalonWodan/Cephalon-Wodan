/* =========================================================
   HUB — Thème Orokin (masonry CSS en colonnes)
   ========================================================= */

:root{
  --bg:#0a0f1a;
  --panel-1:#0f172a;
  --panel-2:#0b1423;
  --ink:#e6edf7;
  --muted:#93a4b8;
  --gold:#e6d28e;
  --shadow:0 12px 30px rgba(0,229,255,.06), inset 0 1px 0 rgba(255,255,255,.03);

  /* largeur mini d’une carte (utilisé par column-width) */
  --card-min: 420px;
}

html,body{background:var(--bg);color:var(--ink)}
body{
  font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,Arial;
  font-size:15px;
}

/* Toolbar */
.wf-toolbar{
  display:flex;align-items:center;justify-content:space-between;
  gap:12px;margin:.5rem 1rem 0;padding:.75rem 1rem;
  background:var(--panel-1);border:1px solid rgba(230,210,142,.35);
  border-radius:.75rem;box-shadow:var(--shadow)
}
.wf-toolbar label{color:var(--muted);display:inline-flex;gap:.4rem;align-items:center}
.wf-toolbar select{
  background:var(--panel-2);color:var(--ink);border:1px solid rgba(230,210,142,.35);
  border-radius:.5rem;padding:.35rem .6rem
}

/* ===== Masonry COLONNES (propre, sans JS) =====
   - Le conteneur crée des colonnes automatiques (~ --card-min)
   - Chaque carte devient un bloc inline qui "tombe" dans la colonne
   - break-inside évite la casse au milieu d'une carte
*/
.wf-grid{
  column-width: var(--card-min);
  column-gap: 1rem;
  padding: .9rem 1rem 1.25rem;
  max-width: 1400px;
  margin: 0 auto;
}

/* Carte : bloc inline qui s’insère dans les colonnes */
.wf-card{
  display:inline-block;        /* clé du masonry colonnes */
  width:100%;
  margin: 0 0 1rem;            /* espace vertical entre cartes */
  vertical-align: top;
  break-inside: avoid;         /* pas de scission de carte */
  background:var(--panel-1);border-radius:.9rem;overflow:hidden;
  border:1px solid rgba(230,210,142,.45);box-shadow:var(--shadow);
}

.wf-card__title{
  display:flex;align-items:center;justify-content:space-between;gap:.6rem 1rem;
  padding:.85rem 1rem;border-bottom:1px solid rgba(230,210,142,.25);
  background:linear-gradient(180deg,rgba(230,210,142,.06),rgba(0,0,0,0));
  border-top-left-radius:.9rem;border-top-right-radius:.9rem;
  flex-wrap:wrap;                 /* contexte adaptable */
  font-size:1rem
}
.wf-ctx{color:var(--muted);white-space:normal}
.wf-pad{padding:.85rem 1rem 1rem}

/* Listes / lignes */
.wf-list{list-style:none;margin:0;padding:.6rem 1rem 1rem}
.wf-row{
  display:grid;grid-template-columns:1fr auto;align-items:center;
  gap:.55rem;padding:.55rem .7rem;margin:.35rem 0;
  border:1px solid rgba(230,210,142,.25);border-radius:.6rem;
  background:linear-gradient(180deg,rgba(255,255,255,.02),rgba(0,0,0,.10));
  font-size:.95rem
}
.wf-row .left{display:flex;align-items:center;gap:.5rem;flex-wrap:wrap}
.wf-row .right{display:flex;align-items:center;gap:.5rem;color:var(--muted)}

/* Chips / badges */
.wf-chip{display:inline-flex;align-items:center;gap:.35rem;
  padding:.2rem .5rem;border:1px solid rgba(230,210,142,.40);
  border-radius:999px;background:linear-gradient(180deg,rgba(255,255,255,.02),rgba(0,0,0,.12));
  font-size:.82rem;color:var(--ink)
}
.wf-badge{padding:.18rem .45rem;border-radius:.45rem;border:1px solid rgba(230,210,142,.35);font-size:.74rem;color:var(--muted)}

/* Fissures (tiers & hard/normal) */
.tier-lith{color:#c8ffd7;border-color:#92f2b0}
.tier-meso{color:#b8e1ff;border-color:#8cc8ff}
.tier-neo{color:#d8c8ff;border-color:#b6a4ff}
.tier-axi{color:#ffe6a8;border-color:#ffd77a}
.tier-omnia{color:#bff7ff;border-color:#7de9ff}
.tier-requiem{color:#ffb7b7;border-color:#ff8a8a}
.tag-hard{color:#ffb7b7;border-color:#ff8a8a}
.tag-normal{color:#bff7ff;border-color:#7de9ff}

/* ETA */
.wf-eta{display:inline-flex;align-items:center;gap:.35rem;padding:.18rem .5rem;
  border-radius:.5rem;border:1px solid rgba(230,210,142,.35);
  background:linear-gradient(180deg,rgba(255,255,255,.02),rgba(0,0,0,.14));
  font-variant-numeric:tabular-nums}
.wf-eta .label{color:var(--muted);font-size:.74rem}
.wf-eta .value{font-weight:600}

/* Sortie / Archon missions list */
.sortie-variants{display:grid;gap:.4rem;margin-top:.35rem}
.sortie-variants .wf-row{grid-template-columns:1fr}

/* Invasions */
.inv-head{display:flex;align-items:center;gap:.5rem;flex-wrap:wrap}
.inv-node{font-weight:600}
.inv-desc{color:var(--muted)}
.inv-vs{display:flex;align-items:center;gap:.35rem;flex-wrap:wrap;color:var(--muted)}
.inv-fac{padding:.1rem .4rem;border-radius:.4rem;border:1px solid rgba(230,210,142,.35)}
.inv-att{color:#ffb7b7;border-color:#ff8a8a}
.inv-def{color:#bff7ff;border-color:#7de9ff}
/* masquer Infested */
.inv-infested{display:none!important}

.inv-rew{display:flex;align-items:center;gap:.4rem;flex-wrap:wrap}
.wf-bar{position:relative;height:10px;width:100%;background:rgba(230,210,142,.12);border:1px solid rgba(230,210,142,.35);border-radius:999px;overflow:hidden}
.wf-bar__fill{position:absolute;inset:0 auto 0 0;background:linear-gradient(90deg,#00e5ff,#e6d28e);width:0%;transition:width .35s ease}
.wf-bar__label{color:var(--muted);font-variant-numeric:tabular-nums}

/* Duviri */
.circuit-title{font-weight:600;margin-bottom:.35rem}
.circuit-wrap{display:grid;gap:.75rem}
.circuit-group .chips{display:flex;gap:.4rem;flex-wrap:wrap}
.circuit-group .chips .wf-chip{padding:.25rem .55rem}

/* PRIMES — pas de chips dorées */
#bounty-content{color:var(--muted);line-height:1.5}
#bounty-content .wf-chip{border:none!important;background:none!important;padding:0!important;color:var(--muted)!important}

/* Cycles centrés */
#cycles-list .wf-row{grid-template-columns:1fr;justify-items:center;text-align:center}
#cycles-list .wf-row .right{justify-content:center}

/* Helpers */
.muted{color:var(--muted)}
.no-pad{padding:0!important}
.hidden{display:none!important}

/* Debug (si ?debug=1) */
#hub-debug{
  position:fixed;right:12px;bottom:12px;width:320px;max-width:90vw;
  background:rgba(15,23,42,.96);color:#e6edf7;border:1px solid rgba(230,210,142,.45);
  border-radius:.6rem;box-shadow:0 12px 30px rgba(0,0,0,.45),inset 0 1px 0 rgba(255,255,255,.03);
  font-size:12.5px;z-index:2000
}
#hub-debug .hd-head{padding:.5rem .7rem;border-bottom:1px solid rgba(230,210,142,.25);font-weight:700}
#hub-debug .hd-body{padding:.6rem .7rem .7rem;line-height:1.35}
#hub-debug b{color:#f2e6b1}

/* ===== Responsive colonnes ===== */
@media (max-width:1300px){
  :root{ --card-min: 380px; }
}
@media (max-width:1024px){
  :root{ --card-min: 340px; }
}
@media (max-width:720px){
  :root{ --card-min: 100%; }  /* 1 colonne */
}
